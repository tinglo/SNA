jQuery(document).ajaxSend(function(t,e,n){function o(t){var e=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var r=jQuery.trim(n[o]);if(r.substring(0,t.length+1)==t+"="){e=decodeURIComponent(r.substring(t.length+1));break}}return e}function r(t){var e=document.location.host,n=document.location.protocol,o="//"+e,r=n+o;return t==r||t.slice(0,r.length+1)==r+"/"||t==o||t.slice(0,o.length+1)==o+"/"||!/^(\/\/|http:|https:).*/.test(t)}function c(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)}!c(n.type)&&r(n.url)&&e.setRequestHeader("X-CSRFToken",o("csrftoken"))});